/*
Plugin: jQuery Parallax
Version 1.1.2
Author: Ian Lunn
Author URL: http://www.ianlunn.co.uk/
Plugin URL: http://www.ianlunn.co.uk/plugins/jquery-parallax/

Dual licensed under the MIT and GPL licenses:
http://www.opensource.org/licenses/mit-license.php
http://www.gnu.org/licenses/gpl.html
*/
(function ($) {
  var $window = $(window);
  var windowHeight = $window.height();
  $window.resize(function () {
    windowHeight = $window.height();
  });
  $.fn.parallax = function (xpos, adjuster, speedFactor, outerHeight) {
    var $this = $(this);
    var getHeight;
    if (outerHeight) {
      getHeight = function (jqo) {
        return jqo.outerHeight(true);
      };
    } else {
      getHeight = function (jqo) {
        return jqo.height();
      };
    }
    // setup defaults if arguments aren't specified
    if (arguments.length < 1 || xpos === null) xpos = "50%";
    if (arguments.length < 2 || adjuster === null) adjuster = 0;
    if (arguments.length < 3 || speedFactor === null) speedFactor = 0.1;
    // function to be called whenever the window is scrolled or resized

    function update() {
      var pos = $window.scrollTop();
      $this.each(function () {
        var $element = $(this);
        var top = $element.offset().top;
        var height = getHeight($element);
        // Check if totally above or totally below viewport
        if (top + height < pos || top > pos + windowHeight) {
          return;
        }
        $this.css('backgroundPosition', xpos + " " + Math.round((adjuster - pos + top) * speedFactor) + "px");
      });
    }
    $window.bind('scroll', update).resize(update);
    update();
  };
})(jQuery);

(function ($) {
	$('#coffee-drinker').parallax("50%", -746, 0.2, true);
})(jQuery);
